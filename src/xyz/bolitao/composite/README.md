# 组合模式（Composite pattern）

## 定义

将对象组合成树形结构以表示“部分-整体”的层次结构。Composite使用户对单个对象和组合对象的使用具有一致性。

## 角色

- 抽象组件(Component)

- Composite节点(Composite Node)

- Leaf节点(Leaf Node)

## 优点

- 可以清楚地定义分层次的复杂对象，表示对象的全部或部分层次，使得增加新构件也更容易。

- 客户端调用简单，客户端可以一致的使用组合结构或其中单个对象。

- 定义了包含叶子对象和容器对象的类层次结构，叶子对象可以被组合成更复杂的容器对象，而这个容器对象又可以被组合，这样不断递归下去，可以形成复杂的树形结构。

- 更容易在组合体内加入对象构件，客户端不必因为加入了新的对象构件而更改原有代码。

## 适用环境

- 需要表示一个对象整体或部分层次，在具有整体和部分的层次结构中，希望通过一种方式忽略整体与部分的差异，可以一致地对待它们。

- 让客户能够忽略不同对象层次的变化，客户端可以针对抽象构件编程，无须关心对象层次结构的细节。

- 对象的结构是动态的并且复杂程度不一样，但客户需要一致地处理它们。

## UML

![](img/600px-Composite_UML_class_diagram_(fixed).svg.png)